<evan-loading *ngIf="loading"></evan-loading>
<ng-container *ngIf="!loading">
  <div class="evan-content" *ngIf="formData.dtGeneral">
    <div class="banner-img">
      <img class="clickable"
        [src]="formData.dtGeneral.bannerImg[0].blobURI"
        (click)="openPictureDetail(formData.dtGeneral.bannerImg[0].blobURI)"
      />
      <h3>{{ formData.dtGeneral.type }}</h3>
      <p>{{ contractAddress }}</p>
      <contract-members #_membersComp
        [(members)]="formData.dtGeneral.newMembers"
        [(origin)]="formData.dtGeneral.sharedMembers"
        [readonly]="!canEdit"
        (onChange)="ref.detectChanges()">
        <h3 label>{{ '_<%= dbcpName %>.members' | translate }}</h3>
      </contract-members>
      <div text-center>
        <button margin-top ion-button round icon-left outline color="green"
          *ngIf="formData.dtGeneral.newMembers.length > 0"
          [disabled]="saving"
          (click)="inviteNewMembers('dtGeneral')">
          <ion-icon name="person-add" *ngIf="!saving"></ion-icon>
          <ion-spinner *ngIf="saving"></ion-spinner>
          <span>{{ '_<%= dbcpName %>.invite-people' | translate }}</span>
        </button>
      </div>
    </div>

    <div text-center margin-top *ngIf="canEdit">
      <button ion-button round icon-left outline
        (click)="openEdit()"
        [disabled]="saving">
        <ion-icon name="create" *ngIf="!saving"></ion-icon>
        <ion-spinner *ngIf="saving"></ion-spinner>

        <span>{{ '_<%= dbcpName %>.edit' | translate }}</span>
      </button>
    </div>
  </div>

  <%- digitaltwinDetailTpl %>
</ng-container>